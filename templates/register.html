{% extends 'base.html' %}

{% block content %}
    <form method="post" id="registerForm">
        <input name="username" id="username" placeholder="ID" onchange="ID()" required>
        <div class="idInfo"></div>
        <input type="password" name="password" id="password" value="" placeholder="PASSWORD" onchange="Password()" required>
        <div class="pwInfo"></div>
        <input type="password" id="cPassword" value="" placeholder="CONFIRM PASSWORD" oninput="ConfirmPassword()" required>
        <div class="cpwInfo"></div>
        <input type="button" value="Register" onclick="checkInfo()" />
    </form>

    <script>
        function ID() {
            const id = document.querySelector("#username").value;
            if (id.length === 0) {
                document.querySelector(".idInfo").innerHTML = "아이디를 입력해주세요."
                return false
            } else if (id.length > 16) {
                document.querySelector(".idInfo").innerHTML = "16자 이하로 입력해주세요."
                return false
            } else {
                document.querySelector(".idInfo").innerHTML = "사용 가능한 아이디 입니다."
                return true
            }
        }  

        function Password() {
            const pw = document.querySelector("#password").value;
            if (pw.length === 0) {
                document.querySelector(".pwInfo").innerHTML = "비밀번호를 입력해주세요."
                return false
            } else if (pw.length > 16) {
                document.querySelector(".pwInfo").innerHTML = "16자 이하로 입력해주세요."
                return false
            } else {
                document.querySelector(".pwInfo").innerHTML = "사용 가능한 비밀번호 입니다."
                return true
            }
        }  

        function ConfirmPassword() {
            const pw = document.querySelector("#password").value;
            const cpw = document.querySelector("#cPassword").value;
            if (pw === cpw) {
                document.querySelector(".cpwInfo").innerHTML = "비밀번호가 일치합니다."
                return true
            } else {
                document.querySelector(".cpwInfo").innerHTML = "비밀번호가 일치하지 않습니다."
                return false
            }
        }

        function checkInfo() {
            if (!ID()) {
                document.querySelector("#username").focus();
            } else if (!Password()) {
                document.querySelector("#password").focus();
            } else if (!ConfirmPassword()) {
                document.querySelector("#cPassword").focus();
            } else {
                document.getElementById("registerForm").submit();
            }
        }

        
    </script>
{% endblock %}